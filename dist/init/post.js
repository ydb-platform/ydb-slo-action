import {
  uploadArtifacts
} from "../main-6swh0r7e.js";
import {
  compareWorkloadMetrics,
  formatChange,
  formatValue,
  loadMetricConfig
} from "../main-djyc6k4y.js";
import {
  __toESM,
  require_core,
  require_exec
} from "../main-gvzvxekz.js";

// init/post.ts
var import_core3 = __toESM(require_core(), 1), import_exec2 = __toESM(require_exec(), 1);
import * as fs from "node:fs/promises";
import * as path from "node:path";
import { fileURLToPath } from "node:url";

// init/lib/docker.ts
var import_core = __toESM(require_core(), 1), import_exec = __toESM(require_exec(), 1);
async function copyFromContainer(options) {
  let source = `${options.container}:${options.sourcePath}`;
  try {
    if (options.destinationPath)
      return await import_exec.exec("docker", ["cp", source, options.destinationPath], {
        silent: !0
      }), null;
    let chunks = [];
    return await import_exec.exec("docker", ["cp", source, "-"], {
      silent: !0,
      listeners: {
        stdout: (data) => chunks.push(data.toString())
      }
    }), chunks.join("");
  } catch (error) {
    return import_core.warning(`Failed to copy ${options.sourcePath} from ${options.container}: ${String(error)}`), null;
  }
}
async function getContainerIp(containerName) {
  try {
    let chunks = [];
    return await import_exec.exec("docker", ["inspect", "-f", "{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}", containerName], {
      silent: !0,
      listeners: {
        stdout: (data) => chunks.push(data.toString())
      }
    }), chunks.join("").trim() || null;
  } catch (error) {
    return import_core.warning(`Failed to get container IP for ${containerName}: ${String(error)}`), null;
  }
}
async function collectComposeLogs(cwd) {
  try {
    let chunks = [];
    return await import_exec.exec("docker", ["compose", "-f", "compose.yml", "logs", "--no-color"], {
      cwd,
      silent: !0,
      listeners: {
        stdout: (data) => chunks.push(data.toString()),
        stderr: (data) => chunks.push(data.toString())
      }
    }), chunks.join("");
  } catch (error) {
    return import_core.warning(`Failed to collect docker compose logs: ${String(error)}`), "";
  }
}

// init/lib/prometheus.ts
async function queryInstant(params) {
  let baseUrl = params.url || "http://localhost:9090", timeout = params.timeout || 30000, url = new URL("/api/v1/query", baseUrl);
  if (url.searchParams.set("query", params.query), params.time !== void 0)
    url.searchParams.set("time", params.time.toString());
  if (params.queryTimeout)
    url.searchParams.set("timeout", params.queryTimeout);
  let response = await fetch(url.toString(), {
    signal: AbortSignal.timeout(timeout)
  }), data = await response.json();
  if (!response.ok)
    throw Error(`Prometheus query failed: ${data.error || response.statusText}`);
  return data;
}
async function queryRange(params) {
  let baseUrl = params.url || "http://localhost:9090", timeout = params.timeout || 30000, url = new URL("/api/v1/query_range", baseUrl);
  if (url.searchParams.set("query", params.query), url.searchParams.set("start", params.start.toString()), url.searchParams.set("end", params.end.toString()), params.step)
    url.searchParams.set("step", params.step);
  if (params.queryTimeout)
    url.searchParams.set("timeout", params.queryTimeout);
  let response = await fetch(url.toString(), {
    signal: AbortSignal.timeout(timeout)
  }), data = await response.json();
  if (!response.ok)
    throw Error(`Prometheus range query failed: ${data.error || response.statusText}`);
  return data;
}

// init/lib/metrics.ts
async function collectMetricsFromPrometheus(url, start, finish, config) {
  let metrics = [];
  for (let metric of config.metrics)
    try {
      if ((metric.type || "range") === "instant") {
        let response = await queryInstant({
          url,
          time: finish.getTime() / 1000,
          query: metric.query,
          queryTimeout: config.default.timeout
        });
        if (response.status === "success" && response.data)
          metrics.push({
            type: "instant",
            name: metric.name,
            query: metric.query,
            data: response.data.result
          });
      } else {
        let response = await queryRange({
          url,
          step: metric.step || config.default.step,
          query: metric.query,
          start: start.getTime() / 1000,
          end: finish.getTime() / 1000,
          queryTimeout: config.default.timeout
        });
        if (response.status === "success" && response.data)
          metrics.push({
            type: "range",
            name: metric.name,
            query: metric.query,
            data: response.data.result
          });
      }
    } catch {
      continue;
    }
  return metrics;
}

// init/lib/summary.ts
var import_core2 = __toESM(require_core(), 1);
async function writeJobSummary(comparison) {
  import_core2.summary.addBreak();
  let statusEmoji = comparison.summary.regressions > 0 ? "\uD83D\uDFE1" : "\uD83D\uDFE2";
  import_core2.summary.addHeading(`${statusEmoji} ${comparison.workload}`, 3);
  let matrix = [
    [
      { data: "Metric", header: !0 },
      { data: "Current", header: !0 },
      { data: "Baseline", header: !0 },
      { data: "Change", header: !0 }
    ],
    ...comparison.metrics.map((m) => [
      m.name,
      formatValue(m.current.value, m.name),
      m.baseline.available ? formatValue(m.baseline.value, m.name) : "N/A",
      m.baseline.available ? formatChange(m.change.percent, m.change.direction) : "N/A"
    ])
  ];
  import_core2.summary.addTable(matrix), import_core2.summary.addBreak(), await import_core2.summary.write();
}

// init/post.ts
process.env.GITHUB_ACTION_PATH ??= fileURLToPath(new URL("../..", import.meta.url));
async function post() {
  let cwd = import_core3.getState("cwd"), workload = import_core3.getState("workload"), logsPath = path.join(cwd, `${workload}-logs.txt`), eventsPath = path.join(cwd, `${workload}-events.jsonl`), metricsPath = path.join(cwd, `${workload}-metrics.jsonl`), metadataPath = path.join(cwd, `${workload}-metadata.json`), logsContent = await collectLogs();
  await fs.writeFile(logsPath, logsContent, { encoding: "utf-8" });
  let eventsContent = await collectEvents();
  await fs.writeFile(eventsPath, eventsContent, { encoding: "utf-8" });
  let metricsContent = await collectMetrics();
  await fs.writeFile(metricsPath, metricsContent, { encoding: "utf-8" });
  let metadataContent = await collectMetadata();
  await fs.writeFile(metadataPath, metadataContent, { encoding: "utf-8" }), await import_exec2.exec("docker", ["compose", "-f", "compose.yml", "down"], {
    cwd: path.resolve(process.env.GITHUB_ACTION_PATH, "deploy")
  }), await uploadArtifacts(workload, [logsPath, eventsPath, metricsPath, metadataPath], cwd), await writeWorkloadSummary(metricsContent);
}
async function collectLogs() {
  import_core3.info("Collecting logs...");
  let cwd = import_core3.getState("cwd");
  return await collectComposeLogs(cwd);
}
async function collectEvents() {
  return import_core3.info("Collecting events..."), await copyFromContainer({
    container: "ydb-chaos-monkey",
    sourcePath: "/var/log/chaos-events.jsonl"
  }) || "";
}
async function collectMetrics() {
  import_core3.info("Collecting metrics...");
  let start = new Date(import_core3.getState("start")), finish = /* @__PURE__ */ new Date, prometheusIp = await getContainerIp("prometheus"), prometheusUrl = prometheusIp ? `http://${prometheusIp}:9090` : "http://prometheus:9090";
  import_core3.debug(`Prometheus URL: ${prometheusUrl}`);
  let config = await loadMetricConfig(import_core3.getInput("metrics_yaml"), import_core3.getInput("metrics_yaml_path"));
  return (await collectMetricsFromPrometheus(prometheusUrl, start, finish, config)).map((m) => JSON.stringify(m)).join(`
`);
}
async function collectMetadata() {
  import_core3.info("Saving metadata...");
  let pull = import_core3.getState("pull"), commit = import_core3.getState("commit"), start = new Date(import_core3.getState("start")), finish = /* @__PURE__ */ new Date, duration = finish.getTime() - start.getTime(), workload = import_core3.getState("workload"), workload_current_ref = import_core3.getInput("workload_current_ref"), workload_baseline_ref = import_core3.getInput("workload_baseline_ref");
  return JSON.stringify({
    pull,
    commit,
    workload,
    workload_current_ref,
    workload_baseline_ref,
    start_time: start.toISOString(),
    start_epoch_ms: start.getTime(),
    finish_time: finish.toISOString(),
    finish_epoch_ms: finish.getTime(),
    duration_ms: duration
  });
}
async function writeWorkloadSummary(metricsContent) {
  import_core3.info("Writing Job Summary...");
  let workload = import_core3.getState("workload"), currentRef = import_core3.getInput("workload_current_ref"), baselineRef = import_core3.getInput("workload_baseline_ref"), metrics = metricsContent.split(`
`).filter((line) => line.trim().length > 0).map((line) => JSON.parse(line)), comparison = compareWorkloadMetrics(workload, metrics, currentRef, baselineRef, "avg");
  await writeJobSummary(comparison);
}
post();

//# debugId=13D78034AF3CFEF964756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vaW5pdC9wb3N0LnRzIiwgIi4uL2luaXQvbGliL2RvY2tlci50cyIsICIuLi9pbml0L2xpYi9wcm9tZXRoZXVzLnRzIiwgIi4uL2luaXQvbGliL21ldHJpY3MudHMiLCAiLi4vaW5pdC9saWIvc3VtbWFyeS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICJpbXBvcnQgKiBhcyBmcyBmcm9tICdub2RlOmZzL3Byb21pc2VzJ1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdub2RlOnBhdGgnXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAnbm9kZTp1cmwnXG5cbmltcG9ydCB7IGRlYnVnLCBnZXRJbnB1dCwgZ2V0U3RhdGUsIGluZm8gfSBmcm9tICdAYWN0aW9ucy9jb3JlJ1xuaW1wb3J0IHsgZXhlYyB9IGZyb20gJ0BhY3Rpb25zL2V4ZWMnXG5cbmltcG9ydCB7IGNvbXBhcmVXb3JrbG9hZE1ldHJpY3MgfSBmcm9tICcuLi9zaGFyZWQvYW5hbHlzaXMuanMnXG5pbXBvcnQgeyBsb2FkTWV0cmljQ29uZmlnLCB0eXBlIENvbGxlY3RlZE1ldHJpYyB9IGZyb20gJy4uL3NoYXJlZC9tZXRyaWNzLmpzJ1xuaW1wb3J0IHsgY29sbGVjdENvbXBvc2VMb2dzLCBjb3B5RnJvbUNvbnRhaW5lciwgZ2V0Q29udGFpbmVySXAgfSBmcm9tICcuL2xpYi9kb2NrZXIuanMnXG5pbXBvcnQgeyB1cGxvYWRBcnRpZmFjdHMgfSBmcm9tICcuL2xpYi9naXRodWIuanMnXG5pbXBvcnQgeyBjb2xsZWN0TWV0cmljc0Zyb21Qcm9tZXRoZXVzIH0gZnJvbSAnLi9saWIvbWV0cmljcy5qcydcbmltcG9ydCB7IHdyaXRlSm9iU3VtbWFyeSB9IGZyb20gJy4vbGliL3N1bW1hcnkuanMnXG5cbnByb2Nlc3MuZW52WydHSVRIVUJfQUNUSU9OX1BBVEgnXSA/Pz0gZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuLi8uLicsIGltcG9ydC5tZXRhLnVybCkpXG5cbmFzeW5jIGZ1bmN0aW9uIHBvc3QoKSB7XG5cdGxldCBjd2QgPSBnZXRTdGF0ZSgnY3dkJylcblx0bGV0IHdvcmtsb2FkID0gZ2V0U3RhdGUoJ3dvcmtsb2FkJylcblxuXHRsZXQgbG9nc1BhdGggPSBwYXRoLmpvaW4oY3dkLCBgJHt3b3JrbG9hZH0tbG9ncy50eHRgKVxuXHRsZXQgZXZlbnRzUGF0aCA9IHBhdGguam9pbihjd2QsIGAke3dvcmtsb2FkfS1ldmVudHMuanNvbmxgKVxuXHRsZXQgbWV0cmljc1BhdGggPSBwYXRoLmpvaW4oY3dkLCBgJHt3b3JrbG9hZH0tbWV0cmljcy5qc29ubGApXG5cdGxldCBtZXRhZGF0YVBhdGggPSBwYXRoLmpvaW4oY3dkLCBgJHt3b3JrbG9hZH0tbWV0YWRhdGEuanNvbmApXG5cblx0bGV0IGxvZ3NDb250ZW50ID0gYXdhaXQgY29sbGVjdExvZ3MoKVxuXHRhd2FpdCBmcy53cml0ZUZpbGUobG9nc1BhdGgsIGxvZ3NDb250ZW50LCB7IGVuY29kaW5nOiAndXRmLTgnIH0pXG5cblx0bGV0IGV2ZW50c0NvbnRlbnQgPSBhd2FpdCBjb2xsZWN0RXZlbnRzKClcblx0YXdhaXQgZnMud3JpdGVGaWxlKGV2ZW50c1BhdGgsIGV2ZW50c0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfSlcblxuXHRsZXQgbWV0cmljc0NvbnRlbnQgPSBhd2FpdCBjb2xsZWN0TWV0cmljcygpXG5cdGF3YWl0IGZzLndyaXRlRmlsZShtZXRyaWNzUGF0aCwgbWV0cmljc0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfSlcblxuXHRsZXQgbWV0YWRhdGFDb250ZW50ID0gYXdhaXQgY29sbGVjdE1ldGFkYXRhKClcblx0YXdhaXQgZnMud3JpdGVGaWxlKG1ldGFkYXRhUGF0aCwgbWV0YWRhdGFDb250ZW50LCB7IGVuY29kaW5nOiAndXRmLTgnIH0pXG5cblx0YXdhaXQgZXhlYyhgZG9ja2VyYCwgW2Bjb21wb3NlYCwgYC1mYCwgYGNvbXBvc2UueW1sYCwgYGRvd25gXSwge1xuXHRcdGN3ZDogcGF0aC5yZXNvbHZlKHByb2Nlc3MuZW52WydHSVRIVUJfQUNUSU9OX1BBVEgnXSwgJ2RlcGxveScpLFxuXHR9KVxuXG5cdGF3YWl0IHVwbG9hZEFydGlmYWN0cyh3b3JrbG9hZCwgW2xvZ3NQYXRoLCBldmVudHNQYXRoLCBtZXRyaWNzUGF0aCwgbWV0YWRhdGFQYXRoXSwgY3dkKVxuXHRhd2FpdCB3cml0ZVdvcmtsb2FkU3VtbWFyeShtZXRyaWNzQ29udGVudClcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29sbGVjdExvZ3MoKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0aW5mbygnQ29sbGVjdGluZyBsb2dzLi4uJylcblx0bGV0IGN3ZCA9IGdldFN0YXRlKCdjd2QnKVxuXHRsZXQgY29udGVudCA9IGF3YWl0IGNvbGxlY3RDb21wb3NlTG9ncyhjd2QpXG5cblx0cmV0dXJuIGNvbnRlbnRcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29sbGVjdEV2ZW50cygpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRpbmZvKCdDb2xsZWN0aW5nIGV2ZW50cy4uLicpXG5cblx0bGV0IGNvbnRlbnQgPSBhd2FpdCBjb3B5RnJvbUNvbnRhaW5lcih7XG5cdFx0Y29udGFpbmVyOiAneWRiLWNoYW9zLW1vbmtleScsXG5cdFx0c291cmNlUGF0aDogJy92YXIvbG9nL2NoYW9zLWV2ZW50cy5qc29ubCcsXG5cdH0pXG5cblx0cmV0dXJuIGNvbnRlbnQgfHwgJydcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29sbGVjdE1ldHJpY3MoKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0aW5mbygnQ29sbGVjdGluZyBtZXRyaWNzLi4uJylcblxuXHRsZXQgc3RhcnQgPSBuZXcgRGF0ZShnZXRTdGF0ZSgnc3RhcnQnKSlcblx0bGV0IGZpbmlzaCA9IG5ldyBEYXRlKClcblxuXHRsZXQgcHJvbWV0aGV1c0lwID0gYXdhaXQgZ2V0Q29udGFpbmVySXAoJ3Byb21ldGhldXMnKVxuXHRsZXQgcHJvbWV0aGV1c1VybCA9IHByb21ldGhldXNJcCA/IGBodHRwOi8vJHtwcm9tZXRoZXVzSXB9OjkwOTBgIDogJ2h0dHA6Ly9wcm9tZXRoZXVzOjkwOTAnXG5cdGRlYnVnKGBQcm9tZXRoZXVzIFVSTDogJHtwcm9tZXRoZXVzVXJsfWApXG5cblx0bGV0IGNvbmZpZyA9IGF3YWl0IGxvYWRNZXRyaWNDb25maWcoZ2V0SW5wdXQoJ21ldHJpY3NfeWFtbCcpLCBnZXRJbnB1dCgnbWV0cmljc195YW1sX3BhdGgnKSlcblx0bGV0IG1ldHJpY3MgPSBhd2FpdCBjb2xsZWN0TWV0cmljc0Zyb21Qcm9tZXRoZXVzKHByb21ldGhldXNVcmwsIHN0YXJ0LCBmaW5pc2gsIGNvbmZpZylcblx0bGV0IGNvbnRlbnQgPSBtZXRyaWNzLm1hcCgobSkgPT4gSlNPTi5zdHJpbmdpZnkobSkpLmpvaW4oJ1xcbicpXG5cblx0cmV0dXJuIGNvbnRlbnRcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29sbGVjdE1ldGFkYXRhKCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdGluZm8oJ1NhdmluZyBtZXRhZGF0YS4uLicpXG5cblx0bGV0IHB1bGwgPSBnZXRTdGF0ZSgncHVsbCcpXG5cdGxldCBjb21taXQgPSBnZXRTdGF0ZSgnY29tbWl0Jylcblx0bGV0IHN0YXJ0ID0gbmV3IERhdGUoZ2V0U3RhdGUoJ3N0YXJ0JykpXG5cdGxldCBmaW5pc2ggPSBuZXcgRGF0ZSgpXG5cdGxldCBkdXJhdGlvbiA9IGZpbmlzaC5nZXRUaW1lKCkgLSBzdGFydC5nZXRUaW1lKClcblxuXHRsZXQgd29ya2xvYWQgPSBnZXRTdGF0ZSgnd29ya2xvYWQnKVxuXHRsZXQgd29ya2xvYWRfY3VycmVudF9yZWYgPSBnZXRJbnB1dCgnd29ya2xvYWRfY3VycmVudF9yZWYnKVxuXHRsZXQgd29ya2xvYWRfYmFzZWxpbmVfcmVmID0gZ2V0SW5wdXQoJ3dvcmtsb2FkX2Jhc2VsaW5lX3JlZicpXG5cblx0bGV0IGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeSh7XG5cdFx0cHVsbCxcblx0XHRjb21taXQsXG5cdFx0d29ya2xvYWQsXG5cdFx0d29ya2xvYWRfY3VycmVudF9yZWYsXG5cdFx0d29ya2xvYWRfYmFzZWxpbmVfcmVmLFxuXHRcdHN0YXJ0X3RpbWU6IHN0YXJ0LnRvSVNPU3RyaW5nKCksXG5cdFx0c3RhcnRfZXBvY2hfbXM6IHN0YXJ0LmdldFRpbWUoKSxcblx0XHRmaW5pc2hfdGltZTogZmluaXNoLnRvSVNPU3RyaW5nKCksXG5cdFx0ZmluaXNoX2Vwb2NoX21zOiBmaW5pc2guZ2V0VGltZSgpLFxuXHRcdGR1cmF0aW9uX21zOiBkdXJhdGlvbixcblx0fSlcblxuXHRyZXR1cm4gY29udGVudFxufVxuXG5hc3luYyBmdW5jdGlvbiB3cml0ZVdvcmtsb2FkU3VtbWFyeShtZXRyaWNzQ29udGVudDogc3RyaW5nKSB7XG5cdGluZm8oJ1dyaXRpbmcgSm9iIFN1bW1hcnkuLi4nKVxuXG5cdGxldCB3b3JrbG9hZCA9IGdldFN0YXRlKCd3b3JrbG9hZCcpXG5cdGxldCBjdXJyZW50UmVmID0gZ2V0SW5wdXQoJ3dvcmtsb2FkX2N1cnJlbnRfcmVmJylcblx0bGV0IGJhc2VsaW5lUmVmID0gZ2V0SW5wdXQoJ3dvcmtsb2FkX2Jhc2VsaW5lX3JlZicpXG5cblx0bGV0IG1ldHJpY3MgPSBtZXRyaWNzQ29udGVudFxuXHRcdC5zcGxpdCgnXFxuJylcblx0XHQuZmlsdGVyKChsaW5lKSA9PiBsaW5lLnRyaW0oKS5sZW5ndGggPiAwKVxuXHRcdC5tYXAoKGxpbmUpID0+IEpTT04ucGFyc2UobGluZSkpIGFzIENvbGxlY3RlZE1ldHJpY1tdXG5cblx0bGV0IGNvbXBhcmlzb24gPSBjb21wYXJlV29ya2xvYWRNZXRyaWNzKHdvcmtsb2FkLCBtZXRyaWNzLCBjdXJyZW50UmVmLCBiYXNlbGluZVJlZiwgJ2F2ZycpXG5cblx0YXdhaXQgd3JpdGVKb2JTdW1tYXJ5KGNvbXBhcmlzb24pXG59XG5cbnBvc3QoKVxuIiwKICAgICJpbXBvcnQgeyB3YXJuaW5nIH0gZnJvbSAnQGFjdGlvbnMvY29yZSdcbmltcG9ydCB7IGV4ZWMgfSBmcm9tICdAYWN0aW9ucy9leGVjJ1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lckNvcHlPcHRpb25zIHtcblx0Y29udGFpbmVyOiBzdHJpbmdcblx0c291cmNlUGF0aDogc3RyaW5nXG5cdGRlc3RpbmF0aW9uUGF0aD86IHN0cmluZ1xufVxuXG4vKipcbiAqIENvcGllcyBhIGZpbGUgZnJvbSBhIERvY2tlciBjb250YWluZXIgdG8gc3Rkb3V0IG9yIGEgaG9zdCBwYXRoXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb3B5RnJvbUNvbnRhaW5lcihvcHRpb25zOiBDb250YWluZXJDb3B5T3B0aW9ucyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRsZXQgc291cmNlID0gYCR7b3B0aW9ucy5jb250YWluZXJ9OiR7b3B0aW9ucy5zb3VyY2VQYXRofWBcblxuXHR0cnkge1xuXHRcdGlmIChvcHRpb25zLmRlc3RpbmF0aW9uUGF0aCkge1xuXHRcdFx0YXdhaXQgZXhlYygnZG9ja2VyJywgWydjcCcsIHNvdXJjZSwgb3B0aW9ucy5kZXN0aW5hdGlvblBhdGhdLCB7XG5cdFx0XHRcdHNpbGVudDogdHJ1ZSxcblx0XHRcdH0pXG5cblx0XHRcdHJldHVybiBudWxsXG5cdFx0fVxuXG5cdFx0bGV0IGNodW5rczogc3RyaW5nW10gPSBbXVxuXG5cdFx0YXdhaXQgZXhlYygnZG9ja2VyJywgWydjcCcsIHNvdXJjZSwgJy0nXSwge1xuXHRcdFx0c2lsZW50OiB0cnVlLFxuXHRcdFx0bGlzdGVuZXJzOiB7XG5cdFx0XHRcdHN0ZG91dDogKGRhdGEpID0+IGNodW5rcy5wdXNoKGRhdGEudG9TdHJpbmcoKSksXG5cdFx0XHR9LFxuXHRcdH0pXG5cblx0XHRyZXR1cm4gY2h1bmtzLmpvaW4oJycpXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0d2FybmluZyhgRmFpbGVkIHRvIGNvcHkgJHtvcHRpb25zLnNvdXJjZVBhdGh9IGZyb20gJHtvcHRpb25zLmNvbnRhaW5lcn06ICR7U3RyaW5nKGVycm9yKX1gKVxuXHRcdHJldHVybiBudWxsXG5cdH1cbn1cblxuLyoqXG4gKiBHZXRzIElQIGFkZHJlc3Mgb2YgYSBEb2NrZXIgY29udGFpbmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb250YWluZXJJcChjb250YWluZXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0dHJ5IHtcblx0XHRsZXQgY2h1bmtzOiBzdHJpbmdbXSA9IFtdXG5cblx0XHQvL3ByZXR0aWVyLWlnbm9yZVxuXHRcdGF3YWl0IGV4ZWMoJ2RvY2tlcicsIFsnaW5zcGVjdCcsICctZicsICd7e3JhbmdlIC5OZXR3b3JrU2V0dGluZ3MuTmV0d29ya3N9fXt7LklQQWRkcmVzc319e3tlbmR9fScsIGNvbnRhaW5lck5hbWVdLFxuXHRcdFx0e1xuXHRcdFx0XHRzaWxlbnQ6IHRydWUsXG5cdFx0XHRcdGxpc3RlbmVyczoge1xuXHRcdFx0XHRcdHN0ZG91dDogKGRhdGEpID0+IGNodW5rcy5wdXNoKGRhdGEudG9TdHJpbmcoKSksXG5cdFx0XHRcdH0sXG5cdFx0XHR9XG5cdFx0KVxuXG5cdFx0bGV0IGlwID0gY2h1bmtzLmpvaW4oJycpLnRyaW0oKVxuXHRcdHJldHVybiBpcCB8fCBudWxsXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0d2FybmluZyhgRmFpbGVkIHRvIGdldCBjb250YWluZXIgSVAgZm9yICR7Y29udGFpbmVyTmFtZX06ICR7U3RyaW5nKGVycm9yKX1gKVxuXHRcdHJldHVybiBudWxsXG5cdH1cbn1cblxuLyoqXG4gKiBDb2xsZWN0cyBsb2dzIGZyb20gRG9ja2VyIENvbXBvc2Ugc2VydmljZXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbGxlY3RDb21wb3NlTG9ncyhjd2Q6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG5cdHRyeSB7XG5cdFx0bGV0IGNodW5rczogc3RyaW5nW10gPSBbXVxuXG5cdFx0YXdhaXQgZXhlYyhgZG9ja2VyYCwgW2Bjb21wb3NlYCwgYC1mYCwgYGNvbXBvc2UueW1sYCwgYGxvZ3NgLCBgLS1uby1jb2xvcmBdLCB7XG5cdFx0XHRjd2QsXG5cdFx0XHRzaWxlbnQ6IHRydWUsXG5cdFx0XHRsaXN0ZW5lcnM6IHtcblx0XHRcdFx0c3Rkb3V0OiAoZGF0YSkgPT4gY2h1bmtzLnB1c2goZGF0YS50b1N0cmluZygpKSxcblx0XHRcdFx0c3RkZXJyOiAoZGF0YSkgPT4gY2h1bmtzLnB1c2goZGF0YS50b1N0cmluZygpKSxcblx0XHRcdH0sXG5cdFx0fSlcblxuXHRcdHJldHVybiBjaHVua3Muam9pbignJylcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHR3YXJuaW5nKGBGYWlsZWQgdG8gY29sbGVjdCBkb2NrZXIgY29tcG9zZSBsb2dzOiAke1N0cmluZyhlcnJvcil9YClcblx0XHRyZXR1cm4gJydcblx0fVxufVxuIiwKICAgICJleHBvcnQgdHlwZSBQcm9tZXRoZXVzVmFsdWVUeXBlID0gJ21hdHJpeCcgfCAndmVjdG9yJyB8ICdzY2FsYXInIHwgJ3N0cmluZydcblxuZXhwb3J0IGludGVyZmFjZSBQcm9tZXRoZXVzTWV0cmljIHtcblx0W2xhYmVsOiBzdHJpbmddOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9tZXRoZXVzSW5zdGFudFZhbHVlIHtcblx0bWV0cmljOiBQcm9tZXRoZXVzTWV0cmljXG5cdHZhbHVlOiBbbnVtYmVyLCBzdHJpbmddXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbWV0aGV1c1JhbmdlVmFsdWUge1xuXHRtZXRyaWM6IFByb21ldGhldXNNZXRyaWNcblx0dmFsdWVzOiBBcnJheTxbbnVtYmVyLCBzdHJpbmddPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb21ldGhldXNSZXNwb25zZTxUID0gUHJvbWV0aGV1c0luc3RhbnRWYWx1ZSB8IFByb21ldGhldXNSYW5nZVZhbHVlPiB7XG5cdHN0YXR1czogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJ1xuXHRkYXRhPzoge1xuXHRcdHJlc3VsdFR5cGU6IFByb21ldGhldXNWYWx1ZVR5cGVcblx0XHRyZXN1bHQ6IFRbXVxuXHR9XG5cdGVycm9yVHlwZT86IHN0cmluZ1xuXHRlcnJvcj86IHN0cmluZ1xuXHR3YXJuaW5ncz86IHN0cmluZ1tdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbWV0aGV1c1F1ZXJ5T3B0aW9ucyB7XG5cdHVybD86IHN0cmluZ1xuXHR0aW1lb3V0PzogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbWV0aGV1c0luc3RhbnRRdWVyeVBhcmFtcyBleHRlbmRzIFByb21ldGhldXNRdWVyeU9wdGlvbnMge1xuXHRxdWVyeTogc3RyaW5nXG5cdHRpbWU/OiBzdHJpbmcgfCBudW1iZXJcblx0cXVlcnlUaW1lb3V0Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbWV0aGV1c1JhbmdlUXVlcnlQYXJhbXMgZXh0ZW5kcyBQcm9tZXRoZXVzUXVlcnlPcHRpb25zIHtcblx0cXVlcnk6IHN0cmluZ1xuXHRzdGFydDogc3RyaW5nIHwgbnVtYmVyXG5cdGVuZDogc3RyaW5nIHwgbnVtYmVyXG5cdHN0ZXA/OiBzdHJpbmdcblx0cXVlcnlUaW1lb3V0Pzogc3RyaW5nXG59XG5cbi8qKlxuICogRXhlY3V0ZXMgaW5zdGFudCBQcm9tUUwgcXVlcnkgYXQgYSBzcGVjaWZpYyBwb2ludCBpbiB0aW1lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeUluc3RhbnQoXG5cdHBhcmFtczogUHJvbWV0aGV1c0luc3RhbnRRdWVyeVBhcmFtc1xuKTogUHJvbWlzZTxQcm9tZXRoZXVzUmVzcG9uc2U8UHJvbWV0aGV1c0luc3RhbnRWYWx1ZT4+IHtcblx0bGV0IGJhc2VVcmwgPSBwYXJhbXMudXJsIHx8ICdodHRwOi8vbG9jYWxob3N0OjkwOTAnXG5cdGxldCB0aW1lb3V0ID0gcGFyYW1zLnRpbWVvdXQgfHwgMzAwMDBcblxuXHRsZXQgdXJsID0gbmV3IFVSTCgnL2FwaS92MS9xdWVyeScsIGJhc2VVcmwpXG5cdHVybC5zZWFyY2hQYXJhbXMuc2V0KCdxdWVyeScsIHBhcmFtcy5xdWVyeSlcblxuXHRpZiAocGFyYW1zLnRpbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHVybC5zZWFyY2hQYXJhbXMuc2V0KCd0aW1lJywgcGFyYW1zLnRpbWUudG9TdHJpbmcoKSlcblx0fVxuXG5cdGlmIChwYXJhbXMucXVlcnlUaW1lb3V0KSB7XG5cdFx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3RpbWVvdXQnLCBwYXJhbXMucXVlcnlUaW1lb3V0KVxuXHR9XG5cblx0bGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcblx0XHRzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGltZW91dCksXG5cdH0pXG5cblx0bGV0IGRhdGEgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKSBhcyBQcm9tZXRoZXVzUmVzcG9uc2U8UHJvbWV0aGV1c0luc3RhbnRWYWx1ZT5cblxuXHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBQcm9tZXRoZXVzIHF1ZXJ5IGZhaWxlZDogJHtkYXRhLmVycm9yIHx8IHJlc3BvbnNlLnN0YXR1c1RleHR9YClcblx0fVxuXG5cdHJldHVybiBkYXRhXG59XG5cbi8qKlxuICogRXhlY3V0ZXMgUHJvbVFMIHJhbmdlIHF1ZXJ5IG92ZXIgYSB0aW1lIHBlcmlvZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcXVlcnlSYW5nZShcblx0cGFyYW1zOiBQcm9tZXRoZXVzUmFuZ2VRdWVyeVBhcmFtc1xuKTogUHJvbWlzZTxQcm9tZXRoZXVzUmVzcG9uc2U8UHJvbWV0aGV1c1JhbmdlVmFsdWU+PiB7XG5cdGxldCBiYXNlVXJsID0gcGFyYW1zLnVybCB8fCAnaHR0cDovL2xvY2FsaG9zdDo5MDkwJ1xuXHRsZXQgdGltZW91dCA9IHBhcmFtcy50aW1lb3V0IHx8IDMwMDAwXG5cblx0bGV0IHVybCA9IG5ldyBVUkwoJy9hcGkvdjEvcXVlcnlfcmFuZ2UnLCBiYXNlVXJsKVxuXHR1cmwuc2VhcmNoUGFyYW1zLnNldCgncXVlcnknLCBwYXJhbXMucXVlcnkpXG5cdHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdGFydCcsIHBhcmFtcy5zdGFydC50b1N0cmluZygpKVxuXHR1cmwuc2VhcmNoUGFyYW1zLnNldCgnZW5kJywgcGFyYW1zLmVuZC50b1N0cmluZygpKVxuXG5cdGlmIChwYXJhbXMuc3RlcCkge1xuXHRcdHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdGVwJywgcGFyYW1zLnN0ZXApXG5cdH1cblxuXHRpZiAocGFyYW1zLnF1ZXJ5VGltZW91dCkge1xuXHRcdHVybC5zZWFyY2hQYXJhbXMuc2V0KCd0aW1lb3V0JywgcGFyYW1zLnF1ZXJ5VGltZW91dClcblx0fVxuXG5cdGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCB7XG5cdFx0c2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRpbWVvdXQpLFxuXHR9KVxuXG5cdGxldCBkYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgUHJvbWV0aGV1c1Jlc3BvbnNlPFByb21ldGhldXNSYW5nZVZhbHVlPlxuXG5cdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYFByb21ldGhldXMgcmFuZ2UgcXVlcnkgZmFpbGVkOiAke2RhdGEuZXJyb3IgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dH1gKVxuXHR9XG5cblx0cmV0dXJuIGRhdGFcbn1cbiIsCiAgICAiaW1wb3J0IHR5cGUgeyBDb2xsZWN0ZWRNZXRyaWMsIE1ldHJpY0NvbmZpZyB9IGZyb20gJy4uLy4uL3NoYXJlZC9tZXRyaWNzLmpzJ1xuaW1wb3J0IHsgcXVlcnlJbnN0YW50LCBxdWVyeVJhbmdlIH0gZnJvbSAnLi9wcm9tZXRoZXVzLmpzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29sbGVjdE1ldHJpY3NGcm9tUHJvbWV0aGV1cyhcblx0dXJsOiBzdHJpbmcsXG5cdHN0YXJ0OiBEYXRlLFxuXHRmaW5pc2g6IERhdGUsXG5cdGNvbmZpZzogTWV0cmljQ29uZmlnXG4pOiBQcm9taXNlPENvbGxlY3RlZE1ldHJpY1tdPiB7XG5cdGxldCBtZXRyaWNzOiBDb2xsZWN0ZWRNZXRyaWNbXSA9IFtdXG5cblx0Zm9yIChsZXQgbWV0cmljIG9mIGNvbmZpZy5tZXRyaWNzKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGxldCB0eXBlID0gbWV0cmljLnR5cGUgfHwgJ3JhbmdlJ1xuXG5cdFx0XHRpZiAodHlwZSA9PT0gJ2luc3RhbnQnKSB7XG5cdFx0XHRcdGxldCByZXNwb25zZSA9IGF3YWl0IHF1ZXJ5SW5zdGFudCh7XG5cdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0dGltZTogZmluaXNoLmdldFRpbWUoKSAvIDEwMDAsXG5cdFx0XHRcdFx0cXVlcnk6IG1ldHJpYy5xdWVyeSxcblx0XHRcdFx0XHRxdWVyeVRpbWVvdXQ6IGNvbmZpZy5kZWZhdWx0LnRpbWVvdXQsXG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIHJlc3BvbnNlLmRhdGEpIHtcblx0XHRcdFx0XHRtZXRyaWNzLnB1c2goe1xuXHRcdFx0XHRcdFx0dHlwZTogJ2luc3RhbnQnLFxuXHRcdFx0XHRcdFx0bmFtZTogbWV0cmljLm5hbWUsXG5cdFx0XHRcdFx0XHRxdWVyeTogbWV0cmljLnF1ZXJ5LFxuXHRcdFx0XHRcdFx0ZGF0YTogcmVzcG9uc2UuZGF0YS5yZXN1bHQsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGV0IHJlc3BvbnNlID0gYXdhaXQgcXVlcnlSYW5nZSh7XG5cdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0c3RlcDogbWV0cmljLnN0ZXAgfHwgY29uZmlnLmRlZmF1bHQuc3RlcCxcblx0XHRcdFx0XHRxdWVyeTogbWV0cmljLnF1ZXJ5LFxuXHRcdFx0XHRcdHN0YXJ0OiBzdGFydC5nZXRUaW1lKCkgLyAxMDAwLFxuXHRcdFx0XHRcdGVuZDogZmluaXNoLmdldFRpbWUoKSAvIDEwMDAsXG5cdFx0XHRcdFx0cXVlcnlUaW1lb3V0OiBjb25maWcuZGVmYXVsdC50aW1lb3V0LFxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdzdWNjZXNzJyAmJiByZXNwb25zZS5kYXRhKSB7XG5cdFx0XHRcdFx0bWV0cmljcy5wdXNoKHtcblx0XHRcdFx0XHRcdHR5cGU6ICdyYW5nZScsXG5cdFx0XHRcdFx0XHRuYW1lOiBtZXRyaWMubmFtZSxcblx0XHRcdFx0XHRcdHF1ZXJ5OiBtZXRyaWMucXVlcnksXG5cdFx0XHRcdFx0XHRkYXRhOiByZXNwb25zZS5kYXRhLnJlc3VsdCxcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRjb250aW51ZVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBtZXRyaWNzXG59XG4iLAogICAgIi8qKlxuICogR2l0SHViIEFjdGlvbnMgSm9iIFN1bW1hcnkgZ2VuZXJhdGlvbiAoc2hhcmVkKVxuICpcbiAqIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgaGVscGVyIHRvIHdyaXRlIGEgY29uY2lzZSBqb2Igc3VtbWFyeSBmb3IgU0xPIHJ1bnMuXG4gKiBJdCB3YXMgZGVyaXZlZCBmcm9tIHJlcG9ydC9saWIvc3VtbWFyeS50cyBhbmQgbW92ZWQgdG8gc2hhcmVkIHRvIGFsbG93IHVzYWdlXG4gKiBmcm9tIGJvdGggYGluaXRgIGFuZCBgcmVwb3J0YCBhY3Rpb25zLlxuICovXG5cbmltcG9ydCB7IHN1bW1hcnkgfSBmcm9tICdAYWN0aW9ucy9jb3JlJ1xuXG5pbXBvcnQgeyBmb3JtYXRDaGFuZ2UsIGZvcm1hdFZhbHVlLCB0eXBlIFdvcmtsb2FkQ29tcGFyaXNvbiB9IGZyb20gJy4uLy4uL3NoYXJlZC9hbmFseXNpcy5qcydcblxuLyoqXG4gKiBXcml0ZSBKb2IgU3VtbWFyeSBmb3IgYSB3b3JrbG9hZCBjb21wYXJpc29uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3cml0ZUpvYlN1bW1hcnkoY29tcGFyaXNvbjogV29ya2xvYWRDb21wYXJpc29uKTogUHJvbWlzZTx2b2lkPiB7XG5cdHN1bW1hcnkuYWRkQnJlYWsoKVxuXG5cdGxldCBzdGF0dXNFbW9qaSA9IGNvbXBhcmlzb24uc3VtbWFyeS5yZWdyZXNzaW9ucyA+IDAgPyAn8J+foScgOiAn8J+foidcblx0c3VtbWFyeS5hZGRIZWFkaW5nKGAke3N0YXR1c0Vtb2ppfSAke2NvbXBhcmlzb24ud29ya2xvYWR9YCwgMylcblxuXHQvLyBCdWlsZCB0YWJsZSBtYXRyaXg6IGhlYWRlciArIG1ldHJpYyByb3dzXG5cdGxldCBtYXRyaXggPSBbXG5cdFx0W1xuXHRcdFx0eyBkYXRhOiAnTWV0cmljJywgaGVhZGVyOiB0cnVlIH0sXG5cdFx0XHR7IGRhdGE6ICdDdXJyZW50JywgaGVhZGVyOiB0cnVlIH0sXG5cdFx0XHR7IGRhdGE6ICdCYXNlbGluZScsIGhlYWRlcjogdHJ1ZSB9LFxuXHRcdFx0eyBkYXRhOiAnQ2hhbmdlJywgaGVhZGVyOiB0cnVlIH0sXG5cdFx0XSxcblx0XHQuLi5jb21wYXJpc29uLm1ldHJpY3MubWFwKChtKSA9PiBbXG5cdFx0XHRtLm5hbWUsXG5cdFx0XHRmb3JtYXRWYWx1ZShtLmN1cnJlbnQudmFsdWUsIG0ubmFtZSksXG5cdFx0XHRtLmJhc2VsaW5lLmF2YWlsYWJsZSA/IGZvcm1hdFZhbHVlKG0uYmFzZWxpbmUudmFsdWUsIG0ubmFtZSkgOiAnTi9BJyxcblx0XHRcdG0uYmFzZWxpbmUuYXZhaWxhYmxlID8gZm9ybWF0Q2hhbmdlKG0uY2hhbmdlLnBlcmNlbnQsIG0uY2hhbmdlLmRpcmVjdGlvbikgOiAnTi9BJyxcblx0XHRdKSxcblx0XVxuXG5cdHN1bW1hcnkuYWRkVGFibGUobWF0cml4KVxuXG5cdHN1bW1hcnkuYWRkQnJlYWsoKVxuXG5cdGF3YWl0IHN1bW1hcnkud3JpdGUoKVxufVxuIgogIF0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7OztBQUlBLCtDQUNBO0FBTEE7QUFDQTtB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QVEsR0FDMUIsUUFBUSxJQUFJLEtBQUssc0JBQVMsT0FBTyxDQUFDLEdBQ2xDLHlCQUFTLElBQUksTUFDYixXQUFXLE9BQU8sUUFBUSxJQUFJLE1BQU0sUUFBUSxHQUU1QyxXQUFXLHNCQUFTLFVBQVUsR0FDOUIsdUJBQXVCLHNCQUFTLHNCQUFzQixHQUN0RCx3QkFBd0Isc0JBQVMsdUJBQXVCO0FBQUEsRUFlNUQsT0FiYyxLQUFLLFVBQVU7QUFBQSxJQUM1QjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBLFlBQVksTUFBTSxZQUFZO0FBQUEsSUFDOUIsZ0JBQWdCLE1BQU0sUUFBUTtBQUFBLElBQzlCLGFBQWEsT0FBTyxZQUFZO0FBQUEsSUFDaEMsaUJBQWlCLE9BQU8sUUFBUTtBQUFBLElBQ2hDLGFBQWE7QUFBQSxFQUNkLENBQUM7QUFBQTtBQUtGLGVBQWUsb0JBQW9CLENBQUMsZ0JBQXdCO0FBQUEsRUFDM0Qsa0JBQUssd0JBQXdCO0FBQUEsRUFFN0IsSUFBSSxXQUFXLHNCQUFTLFVBQVUsR0FDOUIsYUFBYSxzQkFBUyxzQkFBc0IsR0FDNUMsY0FBYyxzQkFBUyx1QkFBdUIsR0FFOUMsVUFBVSxlQUNaLE1BQU07QUFBQSxDQUFJLEVBQ1YsT0FBTyxDQUFDLFNBQVMsS0FBSyxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQ3ZDLElBQUksQ0FBQyxTQUFTLEtBQUssTUFBTSxJQUFJLENBQUMsR0FFNUIsYUFBYSx1QkFBdUIsVUFBVSxTQUFTLFlBQVksYUFBYSxLQUFLO0FBQUEsRUFFekYsTUFBTSxnQkFBZ0IsVUFBVTtBQUFBO0FBR2pDLEtBQUs7IiwKICAiZGVidWdJZCI6ICIxM0Q3ODAzNEFGM0NGRUY5NjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
