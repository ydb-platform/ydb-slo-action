import {
  collectComposeLogs,
  copyFromContainer,
  getContainerIp,
  uploadArtifacts
} from "../main-rtq75qvy.js";
import {
  compareWorkloadMetrics,
  formatChange,
  formatValue,
  loadMetricConfig
} from "../main-bhhtgcdq.js";
import {
  __toESM,
  require_core,
  require_exec
} from "../main-tjp1a9xb.js";

// init/post.ts
var import_core2 = __toESM(require_core(), 1), import_exec = __toESM(require_exec(), 1);
import * as fs from "node:fs/promises";
import * as path from "node:path";
import { fileURLToPath } from "node:url";

// init/lib/prometheus.ts
async function queryInstant(params) {
  let baseUrl = params.url || "http://localhost:9090", timeout = params.timeout || 30000, url = new URL("/api/v1/query", baseUrl);
  if (url.searchParams.set("query", params.query), params.time !== void 0)
    url.searchParams.set("time", params.time.toString());
  if (params.queryTimeout)
    url.searchParams.set("timeout", params.queryTimeout);
  let response = await fetch(url.toString(), {
    signal: AbortSignal.timeout(timeout)
  }), data = await response.json();
  if (!response.ok)
    throw Error(`Prometheus query failed: ${data.error || response.statusText}`);
  return data;
}
async function queryRange(params) {
  let baseUrl = params.url || "http://localhost:9090", timeout = params.timeout || 30000, url = new URL("/api/v1/query_range", baseUrl);
  if (url.searchParams.set("query", params.query), url.searchParams.set("start", params.start.toString()), url.searchParams.set("end", params.end.toString()), params.step)
    url.searchParams.set("step", params.step);
  if (params.queryTimeout)
    url.searchParams.set("timeout", params.queryTimeout);
  let response = await fetch(url.toString(), {
    signal: AbortSignal.timeout(timeout)
  }), data = await response.json();
  if (!response.ok)
    throw Error(`Prometheus range query failed: ${data.error || response.statusText}`);
  return data;
}

// init/lib/metrics.ts
async function collectMetricsFromPrometheus(url, start, finish, config) {
  let metrics = [];
  for (let metric of config.metrics)
    try {
      if ((metric.type || "range") === "instant") {
        let response = await queryInstant({
          url,
          time: finish.getTime() / 1000,
          query: metric.query,
          queryTimeout: config.default.timeout
        });
        if (response.status === "success" && response.data)
          metrics.push({
            type: "instant",
            name: metric.name,
            query: metric.query,
            data: response.data.result
          });
      } else {
        let response = await queryRange({
          url,
          step: metric.step || config.default.step,
          query: metric.query,
          start: start.getTime() / 1000,
          end: finish.getTime() / 1000,
          queryTimeout: config.default.timeout
        });
        if (response.status === "success" && response.data)
          metrics.push({
            type: "range",
            name: metric.name,
            query: metric.query,
            data: response.data.result
          });
      }
    } catch {
      continue;
    }
  return metrics;
}

// init/lib/summary.ts
var import_core = __toESM(require_core(), 1);
async function writeJobSummary(comparison) {
  import_core.summary.addBreak();
  let statusEmoji = comparison.summary.regressions > 0 ? "\uD83D\uDFE1" : "\uD83D\uDFE2";
  import_core.summary.addHeading(`${statusEmoji} ${comparison.workload}`, 3);
  let matrix = [
    [
      { data: "Metric", header: !0 },
      { data: "Current", header: !0 },
      { data: "Baseline", header: !0 },
      { data: "Change", header: !0 }
    ],
    ...comparison.metrics.map((m) => [
      m.name,
      formatValue(m.current.value, m.name),
      m.baseline.available ? formatValue(m.baseline.value, m.name) : "N/A",
      m.baseline.available ? formatChange(m.change.percent, m.change.direction) : "N/A"
    ])
  ];
  import_core.summary.addTable(matrix), import_core.summary.addBreak(), await import_core.summary.write();
}

// init/post.ts
process.env.GITHUB_ACTION_PATH ??= fileURLToPath(new URL("../..", import.meta.url));
async function post() {
  let cwd = import_core2.getState("cwd"), workload = import_core2.getState("workload"), logsPath = path.join(cwd, `${workload}-logs.txt`), eventsPath = path.join(cwd, `${workload}-events.jsonl`), metricsPath = path.join(cwd, `${workload}-metrics.jsonl`), metadataPath = path.join(cwd, `${workload}-metadata.json`), logsContent = await collectLogs();
  await fs.writeFile(logsPath, logsContent, { encoding: "utf-8" });
  let eventsContent = await collectEvents();
  await fs.writeFile(eventsPath, eventsContent, { encoding: "utf-8" });
  let metricsContent = await collectMetrics();
  await fs.writeFile(metricsPath, metricsContent, { encoding: "utf-8" });
  let metadataContent = await collectMetadata();
  await fs.writeFile(metadataPath, metadataContent, { encoding: "utf-8" }), await import_exec.exec("docker", ["compose", "-f", "compose.yml", "down"], {
    cwd: path.resolve(process.env.GITHUB_ACTION_PATH, "deploy")
  }), await uploadArtifacts(workload, [logsPath, eventsPath, metricsPath, metadataPath], cwd), await writeWorkloadSummary(metricsContent);
}
async function collectLogs() {
  import_core2.info("Collecting logs...");
  let cwd = import_core2.getState("cwd");
  return await collectComposeLogs(cwd);
}
async function collectEvents() {
  return import_core2.info("Collecting events..."), await copyFromContainer({
    container: "ydb-chaos-monkey",
    sourcePath: "/var/log/chaos-events.jsonl"
  }) || "";
}
async function collectMetrics() {
  import_core2.info("Collecting metrics...");
  let start = new Date(import_core2.getState("start")), finish = /* @__PURE__ */ new Date, prometheusIp = await getContainerIp("prometheus"), prometheusUrl = prometheusIp ? `http://${prometheusIp}:9090` : "http://prometheus:9090";
  import_core2.debug(`Prometheus URL: ${prometheusUrl}`);
  let config = await loadMetricConfig(import_core2.getInput("metrics_yaml"), import_core2.getInput("metrics_yaml_path"));
  return (await collectMetricsFromPrometheus(prometheusUrl, start, finish, config)).map((m) => JSON.stringify(m)).join(`
`);
}
async function collectMetadata() {
  import_core2.info("Saving metadata...");
  let pull = import_core2.getState("pull"), commit = import_core2.getState("commit"), start = new Date(import_core2.getState("start")), finish = /* @__PURE__ */ new Date, duration = finish.getTime() - start.getTime(), workload = import_core2.getState("workload"), workload_current_ref = import_core2.getInput("workload_current_ref"), workload_baseline_ref = import_core2.getInput("workload_baseline_ref");
  return JSON.stringify({
    pull,
    commit,
    workload,
    workload_current_ref,
    workload_baseline_ref,
    start_time: start.toISOString(),
    start_epoch_ms: start.getTime(),
    finish_time: finish.toISOString(),
    finish_epoch_ms: finish.getTime(),
    duration_ms: duration
  });
}
async function writeWorkloadSummary(metricsContent) {
  import_core2.info("Writing Job Summary...");
  let workload = import_core2.getState("workload"), currentRef = import_core2.getInput("workload_current_ref"), baselineRef = import_core2.getInput("workload_baseline_ref"), metrics = metricsContent.split(`
`).filter((line) => line.trim().length > 0).map((line) => JSON.parse(line)), comparison = compareWorkloadMetrics(workload, metrics, currentRef, baselineRef, "avg");
  await writeJobSummary(comparison);
}
post();

//# debugId=42E7BD9C42EB405664756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vaW5pdC9wb3N0LnRzIiwgIi4uL2luaXQvbGliL3Byb21ldGhldXMudHMiLCAiLi4vaW5pdC9saWIvbWV0cmljcy50cyIsICIuLi9pbml0L2xpYi9zdW1tYXJ5LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgImltcG9ydCAqIGFzIGZzIGZyb20gJ25vZGU6ZnMvcHJvbWlzZXMnXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ25vZGU6cGF0aCdcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICdub2RlOnVybCdcblxuaW1wb3J0IHsgZGVidWcsIGdldElucHV0LCBnZXRTdGF0ZSwgaW5mbyB9IGZyb20gJ0BhY3Rpb25zL2NvcmUnXG5pbXBvcnQgeyBleGVjIH0gZnJvbSAnQGFjdGlvbnMvZXhlYydcblxuaW1wb3J0IHsgY29tcGFyZVdvcmtsb2FkTWV0cmljcyB9IGZyb20gJy4uL3NoYXJlZC9hbmFseXNpcy5qcydcbmltcG9ydCB7IGxvYWRNZXRyaWNDb25maWcsIHR5cGUgQ29sbGVjdGVkTWV0cmljIH0gZnJvbSAnLi4vc2hhcmVkL21ldHJpY3MuanMnXG5pbXBvcnQgeyBjb2xsZWN0Q29tcG9zZUxvZ3MsIGNvcHlGcm9tQ29udGFpbmVyLCBnZXRDb250YWluZXJJcCB9IGZyb20gJy4vbGliL2RvY2tlci5qcydcbmltcG9ydCB7IHVwbG9hZEFydGlmYWN0cyB9IGZyb20gJy4vbGliL2dpdGh1Yi5qcydcbmltcG9ydCB7IGNvbGxlY3RNZXRyaWNzRnJvbVByb21ldGhldXMgfSBmcm9tICcuL2xpYi9tZXRyaWNzLmpzJ1xuaW1wb3J0IHsgd3JpdGVKb2JTdW1tYXJ5IH0gZnJvbSAnLi9saWIvc3VtbWFyeS5qcydcblxucHJvY2Vzcy5lbnZbJ0dJVEhVQl9BQ1RJT05fUEFUSCddID8/PSBmaWxlVVJMVG9QYXRoKG5ldyBVUkwoJy4uLy4uJywgaW1wb3J0Lm1ldGEudXJsKSlcblxuYXN5bmMgZnVuY3Rpb24gcG9zdCgpIHtcblx0bGV0IGN3ZCA9IGdldFN0YXRlKCdjd2QnKVxuXHRsZXQgd29ya2xvYWQgPSBnZXRTdGF0ZSgnd29ya2xvYWQnKVxuXG5cdGxldCBsb2dzUGF0aCA9IHBhdGguam9pbihjd2QsIGAke3dvcmtsb2FkfS1sb2dzLnR4dGApXG5cdGxldCBldmVudHNQYXRoID0gcGF0aC5qb2luKGN3ZCwgYCR7d29ya2xvYWR9LWV2ZW50cy5qc29ubGApXG5cdGxldCBtZXRyaWNzUGF0aCA9IHBhdGguam9pbihjd2QsIGAke3dvcmtsb2FkfS1tZXRyaWNzLmpzb25sYClcblx0bGV0IG1ldGFkYXRhUGF0aCA9IHBhdGguam9pbihjd2QsIGAke3dvcmtsb2FkfS1tZXRhZGF0YS5qc29uYClcblxuXHRsZXQgbG9nc0NvbnRlbnQgPSBhd2FpdCBjb2xsZWN0TG9ncygpXG5cdGF3YWl0IGZzLndyaXRlRmlsZShsb2dzUGF0aCwgbG9nc0NvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfSlcblxuXHRsZXQgZXZlbnRzQ29udGVudCA9IGF3YWl0IGNvbGxlY3RFdmVudHMoKVxuXHRhd2FpdCBmcy53cml0ZUZpbGUoZXZlbnRzUGF0aCwgZXZlbnRzQ29udGVudCwgeyBlbmNvZGluZzogJ3V0Zi04JyB9KVxuXG5cdGxldCBtZXRyaWNzQ29udGVudCA9IGF3YWl0IGNvbGxlY3RNZXRyaWNzKClcblx0YXdhaXQgZnMud3JpdGVGaWxlKG1ldHJpY3NQYXRoLCBtZXRyaWNzQ29udGVudCwgeyBlbmNvZGluZzogJ3V0Zi04JyB9KVxuXG5cdGxldCBtZXRhZGF0YUNvbnRlbnQgPSBhd2FpdCBjb2xsZWN0TWV0YWRhdGEoKVxuXHRhd2FpdCBmcy53cml0ZUZpbGUobWV0YWRhdGFQYXRoLCBtZXRhZGF0YUNvbnRlbnQsIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfSlcblxuXHRhd2FpdCBleGVjKGBkb2NrZXJgLCBbYGNvbXBvc2VgLCBgLWZgLCBgY29tcG9zZS55bWxgLCBgZG93bmBdLCB7XG5cdFx0Y3dkOiBwYXRoLnJlc29sdmUocHJvY2Vzcy5lbnZbJ0dJVEhVQl9BQ1RJT05fUEFUSCddLCAnZGVwbG95JyksXG5cdH0pXG5cblx0YXdhaXQgdXBsb2FkQXJ0aWZhY3RzKHdvcmtsb2FkLCBbbG9nc1BhdGgsIGV2ZW50c1BhdGgsIG1ldHJpY3NQYXRoLCBtZXRhZGF0YVBhdGhdLCBjd2QpXG5cdGF3YWl0IHdyaXRlV29ya2xvYWRTdW1tYXJ5KG1ldHJpY3NDb250ZW50KVxufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0TG9ncygpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRpbmZvKCdDb2xsZWN0aW5nIGxvZ3MuLi4nKVxuXHRsZXQgY3dkID0gZ2V0U3RhdGUoJ2N3ZCcpXG5cdGxldCBjb250ZW50ID0gYXdhaXQgY29sbGVjdENvbXBvc2VMb2dzKGN3ZClcblxuXHRyZXR1cm4gY29udGVudFxufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0RXZlbnRzKCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdGluZm8oJ0NvbGxlY3RpbmcgZXZlbnRzLi4uJylcblxuXHRsZXQgY29udGVudCA9IGF3YWl0IGNvcHlGcm9tQ29udGFpbmVyKHtcblx0XHRjb250YWluZXI6ICd5ZGItY2hhb3MtbW9ua2V5Jyxcblx0XHRzb3VyY2VQYXRoOiAnL3Zhci9sb2cvY2hhb3MtZXZlbnRzLmpzb25sJyxcblx0fSlcblxuXHRyZXR1cm4gY29udGVudCB8fCAnJ1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0TWV0cmljcygpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRpbmZvKCdDb2xsZWN0aW5nIG1ldHJpY3MuLi4nKVxuXG5cdGxldCBzdGFydCA9IG5ldyBEYXRlKGdldFN0YXRlKCdzdGFydCcpKVxuXHRsZXQgZmluaXNoID0gbmV3IERhdGUoKVxuXG5cdGxldCBwcm9tZXRoZXVzSXAgPSBhd2FpdCBnZXRDb250YWluZXJJcCgncHJvbWV0aGV1cycpXG5cdGxldCBwcm9tZXRoZXVzVXJsID0gcHJvbWV0aGV1c0lwID8gYGh0dHA6Ly8ke3Byb21ldGhldXNJcH06OTA5MGAgOiAnaHR0cDovL3Byb21ldGhldXM6OTA5MCdcblx0ZGVidWcoYFByb21ldGhldXMgVVJMOiAke3Byb21ldGhldXNVcmx9YClcblxuXHRsZXQgY29uZmlnID0gYXdhaXQgbG9hZE1ldHJpY0NvbmZpZyhnZXRJbnB1dCgnbWV0cmljc195YW1sJyksIGdldElucHV0KCdtZXRyaWNzX3lhbWxfcGF0aCcpKVxuXHRsZXQgbWV0cmljcyA9IGF3YWl0IGNvbGxlY3RNZXRyaWNzRnJvbVByb21ldGhldXMocHJvbWV0aGV1c1VybCwgc3RhcnQsIGZpbmlzaCwgY29uZmlnKVxuXHRsZXQgY29udGVudCA9IG1ldHJpY3MubWFwKChtKSA9PiBKU09OLnN0cmluZ2lmeShtKSkuam9pbignXFxuJylcblxuXHRyZXR1cm4gY29udGVudFxufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0TWV0YWRhdGEoKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0aW5mbygnU2F2aW5nIG1ldGFkYXRhLi4uJylcblxuXHRsZXQgcHVsbCA9IGdldFN0YXRlKCdwdWxsJylcblx0bGV0IGNvbW1pdCA9IGdldFN0YXRlKCdjb21taXQnKVxuXHRsZXQgc3RhcnQgPSBuZXcgRGF0ZShnZXRTdGF0ZSgnc3RhcnQnKSlcblx0bGV0IGZpbmlzaCA9IG5ldyBEYXRlKClcblx0bGV0IGR1cmF0aW9uID0gZmluaXNoLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKVxuXG5cdGxldCB3b3JrbG9hZCA9IGdldFN0YXRlKCd3b3JrbG9hZCcpXG5cdGxldCB3b3JrbG9hZF9jdXJyZW50X3JlZiA9IGdldElucHV0KCd3b3JrbG9hZF9jdXJyZW50X3JlZicpXG5cdGxldCB3b3JrbG9hZF9iYXNlbGluZV9yZWYgPSBnZXRJbnB1dCgnd29ya2xvYWRfYmFzZWxpbmVfcmVmJylcblxuXHRsZXQgY29udGVudCA9IEpTT04uc3RyaW5naWZ5KHtcblx0XHRwdWxsLFxuXHRcdGNvbW1pdCxcblx0XHR3b3JrbG9hZCxcblx0XHR3b3JrbG9hZF9jdXJyZW50X3JlZixcblx0XHR3b3JrbG9hZF9iYXNlbGluZV9yZWYsXG5cdFx0c3RhcnRfdGltZTogc3RhcnQudG9JU09TdHJpbmcoKSxcblx0XHRzdGFydF9lcG9jaF9tczogc3RhcnQuZ2V0VGltZSgpLFxuXHRcdGZpbmlzaF90aW1lOiBmaW5pc2gudG9JU09TdHJpbmcoKSxcblx0XHRmaW5pc2hfZXBvY2hfbXM6IGZpbmlzaC5nZXRUaW1lKCksXG5cdFx0ZHVyYXRpb25fbXM6IGR1cmF0aW9uLFxuXHR9KVxuXG5cdHJldHVybiBjb250ZW50XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHdyaXRlV29ya2xvYWRTdW1tYXJ5KG1ldHJpY3NDb250ZW50OiBzdHJpbmcpIHtcblx0aW5mbygnV3JpdGluZyBKb2IgU3VtbWFyeS4uLicpXG5cblx0bGV0IHdvcmtsb2FkID0gZ2V0U3RhdGUoJ3dvcmtsb2FkJylcblx0bGV0IGN1cnJlbnRSZWYgPSBnZXRJbnB1dCgnd29ya2xvYWRfY3VycmVudF9yZWYnKVxuXHRsZXQgYmFzZWxpbmVSZWYgPSBnZXRJbnB1dCgnd29ya2xvYWRfYmFzZWxpbmVfcmVmJylcblxuXHRsZXQgbWV0cmljcyA9IG1ldHJpY3NDb250ZW50XG5cdFx0LnNwbGl0KCdcXG4nKVxuXHRcdC5maWx0ZXIoKGxpbmUpID0+IGxpbmUudHJpbSgpLmxlbmd0aCA+IDApXG5cdFx0Lm1hcCgobGluZSkgPT4gSlNPTi5wYXJzZShsaW5lKSkgYXMgQ29sbGVjdGVkTWV0cmljW11cblxuXHRsZXQgY29tcGFyaXNvbiA9IGNvbXBhcmVXb3JrbG9hZE1ldHJpY3Mod29ya2xvYWQsIG1ldHJpY3MsIGN1cnJlbnRSZWYsIGJhc2VsaW5lUmVmLCAnYXZnJylcblxuXHRhd2FpdCB3cml0ZUpvYlN1bW1hcnkoY29tcGFyaXNvbilcbn1cblxucG9zdCgpXG4iLAogICAgImV4cG9ydCB0eXBlIFByb21ldGhldXNWYWx1ZVR5cGUgPSAnbWF0cml4JyB8ICd2ZWN0b3InIHwgJ3NjYWxhcicgfCAnc3RyaW5nJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb21ldGhldXNNZXRyaWMge1xuXHRbbGFiZWw6IHN0cmluZ106IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb21ldGhldXNJbnN0YW50VmFsdWUge1xuXHRtZXRyaWM6IFByb21ldGhldXNNZXRyaWNcblx0dmFsdWU6IFtudW1iZXIsIHN0cmluZ11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9tZXRoZXVzUmFuZ2VWYWx1ZSB7XG5cdG1ldHJpYzogUHJvbWV0aGV1c01ldHJpY1xuXHR2YWx1ZXM6IEFycmF5PFtudW1iZXIsIHN0cmluZ10+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbWV0aGV1c1Jlc3BvbnNlPFQgPSBQcm9tZXRoZXVzSW5zdGFudFZhbHVlIHwgUHJvbWV0aGV1c1JhbmdlVmFsdWU+IHtcblx0c3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InXG5cdGRhdGE/OiB7XG5cdFx0cmVzdWx0VHlwZTogUHJvbWV0aGV1c1ZhbHVlVHlwZVxuXHRcdHJlc3VsdDogVFtdXG5cdH1cblx0ZXJyb3JUeXBlPzogc3RyaW5nXG5cdGVycm9yPzogc3RyaW5nXG5cdHdhcm5pbmdzPzogc3RyaW5nW11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9tZXRoZXVzUXVlcnlPcHRpb25zIHtcblx0dXJsPzogc3RyaW5nXG5cdHRpbWVvdXQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9tZXRoZXVzSW5zdGFudFF1ZXJ5UGFyYW1zIGV4dGVuZHMgUHJvbWV0aGV1c1F1ZXJ5T3B0aW9ucyB7XG5cdHF1ZXJ5OiBzdHJpbmdcblx0dGltZT86IHN0cmluZyB8IG51bWJlclxuXHRxdWVyeVRpbWVvdXQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9tZXRoZXVzUmFuZ2VRdWVyeVBhcmFtcyBleHRlbmRzIFByb21ldGhldXNRdWVyeU9wdGlvbnMge1xuXHRxdWVyeTogc3RyaW5nXG5cdHN0YXJ0OiBzdHJpbmcgfCBudW1iZXJcblx0ZW5kOiBzdHJpbmcgfCBudW1iZXJcblx0c3RlcD86IHN0cmluZ1xuXHRxdWVyeVRpbWVvdXQ/OiBzdHJpbmdcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyBpbnN0YW50IFByb21RTCBxdWVyeSBhdCBhIHNwZWNpZmljIHBvaW50IGluIHRpbWVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5SW5zdGFudChcblx0cGFyYW1zOiBQcm9tZXRoZXVzSW5zdGFudFF1ZXJ5UGFyYW1zXG4pOiBQcm9taXNlPFByb21ldGhldXNSZXNwb25zZTxQcm9tZXRoZXVzSW5zdGFudFZhbHVlPj4ge1xuXHRsZXQgYmFzZVVybCA9IHBhcmFtcy51cmwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTA5MCdcblx0bGV0IHRpbWVvdXQgPSBwYXJhbXMudGltZW91dCB8fCAzMDAwMFxuXG5cdGxldCB1cmwgPSBuZXcgVVJMKCcvYXBpL3YxL3F1ZXJ5JywgYmFzZVVybClcblx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3F1ZXJ5JywgcGFyYW1zLnF1ZXJ5KVxuXG5cdGlmIChwYXJhbXMudGltZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3RpbWUnLCBwYXJhbXMudGltZS50b1N0cmluZygpKVxuXHR9XG5cblx0aWYgKHBhcmFtcy5xdWVyeVRpbWVvdXQpIHtcblx0XHR1cmwuc2VhcmNoUGFyYW1zLnNldCgndGltZW91dCcsIHBhcmFtcy5xdWVyeVRpbWVvdXQpXG5cdH1cblxuXHRsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwudG9TdHJpbmcoKSwge1xuXHRcdHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCh0aW1lb3V0KSxcblx0fSlcblxuXHRsZXQgZGF0YSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIFByb21ldGhldXNSZXNwb25zZTxQcm9tZXRoZXVzSW5zdGFudFZhbHVlPlxuXG5cdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYFByb21ldGhldXMgcXVlcnkgZmFpbGVkOiAke2RhdGEuZXJyb3IgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dH1gKVxuXHR9XG5cblx0cmV0dXJuIGRhdGFcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyBQcm9tUUwgcmFuZ2UgcXVlcnkgb3ZlciBhIHRpbWUgcGVyaW9kXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeVJhbmdlKFxuXHRwYXJhbXM6IFByb21ldGhldXNSYW5nZVF1ZXJ5UGFyYW1zXG4pOiBQcm9taXNlPFByb21ldGhldXNSZXNwb25zZTxQcm9tZXRoZXVzUmFuZ2VWYWx1ZT4+IHtcblx0bGV0IGJhc2VVcmwgPSBwYXJhbXMudXJsIHx8ICdodHRwOi8vbG9jYWxob3N0OjkwOTAnXG5cdGxldCB0aW1lb3V0ID0gcGFyYW1zLnRpbWVvdXQgfHwgMzAwMDBcblxuXHRsZXQgdXJsID0gbmV3IFVSTCgnL2FwaS92MS9xdWVyeV9yYW5nZScsIGJhc2VVcmwpXG5cdHVybC5zZWFyY2hQYXJhbXMuc2V0KCdxdWVyeScsIHBhcmFtcy5xdWVyeSlcblx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N0YXJ0JywgcGFyYW1zLnN0YXJ0LnRvU3RyaW5nKCkpXG5cdHVybC5zZWFyY2hQYXJhbXMuc2V0KCdlbmQnLCBwYXJhbXMuZW5kLnRvU3RyaW5nKCkpXG5cblx0aWYgKHBhcmFtcy5zdGVwKSB7XG5cdFx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N0ZXAnLCBwYXJhbXMuc3RlcClcblx0fVxuXG5cdGlmIChwYXJhbXMucXVlcnlUaW1lb3V0KSB7XG5cdFx0dXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3RpbWVvdXQnLCBwYXJhbXMucXVlcnlUaW1lb3V0KVxuXHR9XG5cblx0bGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcblx0XHRzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGltZW91dCksXG5cdH0pXG5cblx0bGV0IGRhdGEgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKSBhcyBQcm9tZXRoZXVzUmVzcG9uc2U8UHJvbWV0aGV1c1JhbmdlVmFsdWU+XG5cblx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgUHJvbWV0aGV1cyByYW5nZSBxdWVyeSBmYWlsZWQ6ICR7ZGF0YS5lcnJvciB8fCByZXNwb25zZS5zdGF0dXNUZXh0fWApXG5cdH1cblxuXHRyZXR1cm4gZGF0YVxufVxuIiwKICAgICJpbXBvcnQgdHlwZSB7IENvbGxlY3RlZE1ldHJpYywgTWV0cmljQ29uZmlnIH0gZnJvbSAnLi4vLi4vc2hhcmVkL21ldHJpY3MuanMnXG5pbXBvcnQgeyBxdWVyeUluc3RhbnQsIHF1ZXJ5UmFuZ2UgfSBmcm9tICcuL3Byb21ldGhldXMuanMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb2xsZWN0TWV0cmljc0Zyb21Qcm9tZXRoZXVzKFxuXHR1cmw6IHN0cmluZyxcblx0c3RhcnQ6IERhdGUsXG5cdGZpbmlzaDogRGF0ZSxcblx0Y29uZmlnOiBNZXRyaWNDb25maWdcbik6IFByb21pc2U8Q29sbGVjdGVkTWV0cmljW10+IHtcblx0bGV0IG1ldHJpY3M6IENvbGxlY3RlZE1ldHJpY1tdID0gW11cblxuXHRmb3IgKGxldCBtZXRyaWMgb2YgY29uZmlnLm1ldHJpY3MpIHtcblx0XHR0cnkge1xuXHRcdFx0bGV0IHR5cGUgPSBtZXRyaWMudHlwZSB8fCAncmFuZ2UnXG5cblx0XHRcdGlmICh0eXBlID09PSAnaW5zdGFudCcpIHtcblx0XHRcdFx0bGV0IHJlc3BvbnNlID0gYXdhaXQgcXVlcnlJbnN0YW50KHtcblx0XHRcdFx0XHR1cmw6IHVybCxcblx0XHRcdFx0XHR0aW1lOiBmaW5pc2guZ2V0VGltZSgpIC8gMTAwMCxcblx0XHRcdFx0XHRxdWVyeTogbWV0cmljLnF1ZXJ5LFxuXHRcdFx0XHRcdHF1ZXJ5VGltZW91dDogY29uZmlnLmRlZmF1bHQudGltZW91dCxcblx0XHRcdFx0fSlcblxuXHRcdFx0XHRpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgcmVzcG9uc2UuZGF0YSkge1xuXHRcdFx0XHRcdG1ldHJpY3MucHVzaCh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnaW5zdGFudCcsXG5cdFx0XHRcdFx0XHRuYW1lOiBtZXRyaWMubmFtZSxcblx0XHRcdFx0XHRcdHF1ZXJ5OiBtZXRyaWMucXVlcnksXG5cdFx0XHRcdFx0XHRkYXRhOiByZXNwb25zZS5kYXRhLnJlc3VsdCxcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZXQgcmVzcG9uc2UgPSBhd2FpdCBxdWVyeVJhbmdlKHtcblx0XHRcdFx0XHR1cmw6IHVybCxcblx0XHRcdFx0XHRzdGVwOiBtZXRyaWMuc3RlcCB8fCBjb25maWcuZGVmYXVsdC5zdGVwLFxuXHRcdFx0XHRcdHF1ZXJ5OiBtZXRyaWMucXVlcnksXG5cdFx0XHRcdFx0c3RhcnQ6IHN0YXJ0LmdldFRpbWUoKSAvIDEwMDAsXG5cdFx0XHRcdFx0ZW5kOiBmaW5pc2guZ2V0VGltZSgpIC8gMTAwMCxcblx0XHRcdFx0XHRxdWVyeVRpbWVvdXQ6IGNvbmZpZy5kZWZhdWx0LnRpbWVvdXQsXG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIHJlc3BvbnNlLmRhdGEpIHtcblx0XHRcdFx0XHRtZXRyaWNzLnB1c2goe1xuXHRcdFx0XHRcdFx0dHlwZTogJ3JhbmdlJyxcblx0XHRcdFx0XHRcdG5hbWU6IG1ldHJpYy5uYW1lLFxuXHRcdFx0XHRcdFx0cXVlcnk6IG1ldHJpYy5xdWVyeSxcblx0XHRcdFx0XHRcdGRhdGE6IHJlc3BvbnNlLmRhdGEucmVzdWx0LFxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIHtcblx0XHRcdGNvbnRpbnVlXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1ldHJpY3Ncbn1cbiIsCiAgICAiLyoqXG4gKiBHaXRIdWIgQWN0aW9ucyBKb2IgU3VtbWFyeSBnZW5lcmF0aW9uIChzaGFyZWQpXG4gKlxuICogVGhpcyBtb2R1bGUgcHJvdmlkZXMgYSBoZWxwZXIgdG8gd3JpdGUgYSBjb25jaXNlIGpvYiBzdW1tYXJ5IGZvciBTTE8gcnVucy5cbiAqIEl0IHdhcyBkZXJpdmVkIGZyb20gcmVwb3J0L2xpYi9zdW1tYXJ5LnRzIGFuZCBtb3ZlZCB0byBzaGFyZWQgdG8gYWxsb3cgdXNhZ2VcbiAqIGZyb20gYm90aCBgaW5pdGAgYW5kIGByZXBvcnRgIGFjdGlvbnMuXG4gKi9cblxuaW1wb3J0IHsgc3VtbWFyeSB9IGZyb20gJ0BhY3Rpb25zL2NvcmUnXG5cbmltcG9ydCB7IGZvcm1hdENoYW5nZSwgZm9ybWF0VmFsdWUsIHR5cGUgV29ya2xvYWRDb21wYXJpc29uIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2FuYWx5c2lzLmpzJ1xuXG4vKipcbiAqIFdyaXRlIEpvYiBTdW1tYXJ5IGZvciBhIHdvcmtsb2FkIGNvbXBhcmlzb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlSm9iU3VtbWFyeShjb21wYXJpc29uOiBXb3JrbG9hZENvbXBhcmlzb24pOiBQcm9taXNlPHZvaWQ+IHtcblx0c3VtbWFyeS5hZGRCcmVhaygpXG5cblx0bGV0IHN0YXR1c0Vtb2ppID0gY29tcGFyaXNvbi5zdW1tYXJ5LnJlZ3Jlc3Npb25zID4gMCA/ICfwn5+hJyA6ICfwn5+iJ1xuXHRzdW1tYXJ5LmFkZEhlYWRpbmcoYCR7c3RhdHVzRW1vaml9ICR7Y29tcGFyaXNvbi53b3JrbG9hZH1gLCAzKVxuXG5cdC8vIEJ1aWxkIHRhYmxlIG1hdHJpeDogaGVhZGVyICsgbWV0cmljIHJvd3Ncblx0bGV0IG1hdHJpeCA9IFtcblx0XHRbXG5cdFx0XHR7IGRhdGE6ICdNZXRyaWMnLCBoZWFkZXI6IHRydWUgfSxcblx0XHRcdHsgZGF0YTogJ0N1cnJlbnQnLCBoZWFkZXI6IHRydWUgfSxcblx0XHRcdHsgZGF0YTogJ0Jhc2VsaW5lJywgaGVhZGVyOiB0cnVlIH0sXG5cdFx0XHR7IGRhdGE6ICdDaGFuZ2UnLCBoZWFkZXI6IHRydWUgfSxcblx0XHRdLFxuXHRcdC4uLmNvbXBhcmlzb24ubWV0cmljcy5tYXAoKG0pID0+IFtcblx0XHRcdG0ubmFtZSxcblx0XHRcdGZvcm1hdFZhbHVlKG0uY3VycmVudC52YWx1ZSwgbS5uYW1lKSxcblx0XHRcdG0uYmFzZWxpbmUuYXZhaWxhYmxlID8gZm9ybWF0VmFsdWUobS5iYXNlbGluZS52YWx1ZSwgbS5uYW1lKSA6ICdOL0EnLFxuXHRcdFx0bS5iYXNlbGluZS5hdmFpbGFibGUgPyBmb3JtYXRDaGFuZ2UobS5jaGFuZ2UucGVyY2VudCwgbS5jaGFuZ2UuZGlyZWN0aW9uKSA6ICdOL0EnLFxuXHRcdF0pLFxuXHRdXG5cblx0c3VtbWFyeS5hZGRUYWJsZShtYXRyaXgpXG5cblx0c3VtbWFyeS5hZGRCcmVhaygpXG5cblx0YXdhaXQgc3VtbWFyeS53cml0ZSgpXG59XG4iCiAgXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUEsK0NBQ0E7QUFMQTtBQUNBO0FBQ0E7OztBQytDQSxlQUFzQixZQUFZLENBQ2pDLFFBQ3NEO0FBQUEsRUFDdEQsSUFBSSxVQUFVLE9BQU8sT0FBTyx5QkFDeEIsVUFBVSxPQUFPLFdBQVcsT0FFNUIsTUFBTSxJQUFJLElBQUksaUJBQWlCLE9BQU87QUFBQSxFQUcxQyxJQUZBLElBQUksYUFBYSxJQUFJLFNBQVMsT0FBTyxLQUFLLEdBRXRDLE9BQU8sU0FBUztBQUFBLElBQ25CLElBQUksYUFBYSxJQUFJLFFBQVEsT0FBTyxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBR3BELElBQUksT0FBTztBQUFBLElBQ1YsSUFBSSxhQUFhLElBQUksV0FBVyxPQUFPLFlBQVk7QUFBQSxFQUdwRCxJQUFJLFdBQVcsTUFBTSxNQUFNLElBQUksU0FBUyxHQUFHO0FBQUEsSUFDMUMsUUFBUSxZQUFZLFFBQVEsT0FBTztBQUFBLEVBQ3BDLENBQUMsR0FFRyxPQUFRLE1BQU0sU0FBUyxLQUFLO0FBQUEsRUFFaEMsSUFBSSxDQUFDLFNBQVM7QUFBQSxJQUNiLE1BQVUsTUFBTSw0QkFB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
