import"../../main-ynsbc1hx.js";

// report/lib/events.ts
function parseEventsJsonl(content) {
  let events = [], lines = content.trim().split(`
`);
  for (let line of lines) {
    if (!line.trim())
      continue;
    try {
      let event = JSON.parse(line);
      events.push(event);
    } catch {
      continue;
    }
  }
  return events;
}
function getEventIcon(action, attributes) {
  let icons = {
    pause: "⏸️",
    unpause: "▶️",
    stop: "⏹️",
    start: "▶️",
    restart: "\uD83D\uDD04",
    die: "\uD83D\uDCA4",
    create: "\uD83C\uDD95",
    destroy: "\uD83D\uDDD1️"
  };
  if (action === "kill")
    return attributes?.signal === "SIGKILL" ? "\uD83D\uDC80" : "⚡";
  return icons[action] || "\uD83D\uDCCC";
}
function getEventColor(action) {
  return {
    pause: "#f59e0b",
    unpause: "#10b981",
    stop: "#ef4444",
    start: "#10b981",
    kill: "#dc2626",
    restart: "#f59e0b",
    die: "#6b7280",
    create: "#3b82f6",
    destroy: "#ef4444"
  }[action] || "#6b7280";
}
function formatEventLabel(event) {
  let name = event.Actor.Attributes.name || event.Actor.ID.substring(0, 12), nodeType = event.Actor.Attributes["ydb.node.type"], service = event.Actor.Attributes["com.docker.compose.service"], displayName = name;
  if (nodeType)
    displayName = `${nodeType} (${name})`;
  else if (service)
    displayName = service;
  let action = event.Action;
  if (action === "kill" && event.Actor.Attributes.signal)
    return `${action} ${displayName} (${event.Actor.Attributes.signal})`;
  return `${action} ${displayName}`;
}
function formatEvents(events) {
  return events.map((event) => ({
    timestamp: event.time,
    action: event.Action,
    type: event.Type,
    label: formatEventLabel(event),
    icon: getEventIcon(event.Action, event.Actor.Attributes),
    color: getEventColor(event.Action),
    actor: event.Actor.Attributes.name || event.Actor.ID.substring(0, 12)
  }));
}
export {
  parseEventsJsonl,
  formatEvents
};

export { parseEventsJsonl, formatEvents };

//# debugId=6B9B3AAF2137FDC564756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vcmVwb3J0L2xpYi9ldmVudHMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbCiAgICAiLyoqXG4gKiBEb2NrZXIgZXZlbnRzIHBhcnNpbmcgYW5kIGZvcm1hdHRpbmdcbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIERvY2tlckV2ZW50IHtcblx0dGltZTogbnVtYmVyXG5cdEFjdGlvbjogc3RyaW5nXG5cdFR5cGU6IHN0cmluZ1xuXHRBY3Rvcjoge1xuXHRcdElEOiBzdHJpbmdcblx0XHRBdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XG5cdH1cblx0W2tleTogc3RyaW5nXTogdW5rbm93blxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvcm1hdHRlZEV2ZW50IHtcblx0dGltZXN0YW1wOiBudW1iZXJcblx0YWN0aW9uOiBzdHJpbmdcblx0dHlwZTogc3RyaW5nXG5cdGxhYmVsOiBzdHJpbmdcblx0aWNvbjogc3RyaW5nXG5cdGNvbG9yOiBzdHJpbmdcblx0YWN0b3I6IHN0cmluZ1xufVxuXG4vKipcbiAqIFBhcnNlIGV2ZW50cyBKU09OTCBmaWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUV2ZW50c0pzb25sKGNvbnRlbnQ6IHN0cmluZyk6IERvY2tlckV2ZW50W10ge1xuXHRsZXQgZXZlbnRzOiBEb2NrZXJFdmVudFtdID0gW11cblx0bGV0IGxpbmVzID0gY29udGVudC50cmltKCkuc3BsaXQoJ1xcbicpXG5cblx0Zm9yIChsZXQgbGluZSBvZiBsaW5lcykge1xuXHRcdGlmICghbGluZS50cmltKCkpIGNvbnRpbnVlXG5cblx0XHR0cnkge1xuXHRcdFx0bGV0IGV2ZW50ID0gSlNPTi5wYXJzZShsaW5lKSBhcyBEb2NrZXJFdmVudFxuXHRcdFx0ZXZlbnRzLnB1c2goZXZlbnQpXG5cdFx0fSBjYXRjaCB7XG5cdFx0XHQvLyBTa2lwIGludmFsaWQgbGluZXNcblx0XHRcdGNvbnRpbnVlXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGV2ZW50c1xufVxuXG4vKipcbiAqIEdldCBpY29uIGZvciBldmVudCBhY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRJY29uKGFjdGlvbjogc3RyaW5nLCBhdHRyaWJ1dGVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IHN0cmluZyB7XG5cdGxldCBpY29uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XHRwYXVzZTogJ+KPuO+4jycsXG5cdFx0dW5wYXVzZTogJ+KWtu+4jycsXG5cdFx0c3RvcDogJ+KPue+4jycsXG5cdFx0c3RhcnQ6ICfilrbvuI8nLFxuXHRcdHJlc3RhcnQ6ICfwn5SEJyxcblx0XHRkaWU6ICfwn5KkJyxcblx0XHRjcmVhdGU6ICfwn4aVJyxcblx0XHRkZXN0cm95OiAn8J+Xke+4jycsXG5cdH1cblxuXHRpZiAoYWN0aW9uID09PSAna2lsbCcpIHtcblx0XHRyZXR1cm4gYXR0cmlidXRlcz8uc2lnbmFsID09PSAnU0lHS0lMTCcgPyAn8J+SgCcgOiAn4pqhJ1xuXHR9XG5cblx0cmV0dXJuIGljb25zW2FjdGlvbl0gfHwgJ/Cfk4wnXG59XG5cbi8qKlxuICogR2V0IGNvbG9yIGZvciBldmVudCBhY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRDb2xvcihhY3Rpb246IHN0cmluZyk6IHN0cmluZyB7XG5cdGxldCBjb2xvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0cGF1c2U6ICcjZjU5ZTBiJywgLy8gb3JhbmdlXG5cdFx0dW5wYXVzZTogJyMxMGI5ODEnLCAvLyBncmVlblxuXHRcdHN0b3A6ICcjZWY0NDQ0JywgLy8gcmVkXG5cdFx0c3RhcnQ6ICcjMTBiOTgxJywgLy8gZ3JlZW5cblx0XHRraWxsOiAnI2RjMjYyNicsIC8vIGRhcmsgcmVkXG5cdFx0cmVzdGFydDogJyNmNTllMGInLCAvLyBvcmFuZ2Vcblx0XHRkaWU6ICcjNmI3MjgwJywgLy8gZ3JheVxuXHRcdGNyZWF0ZTogJyMzYjgyZjYnLCAvLyBibHVlXG5cdFx0ZGVzdHJveTogJyNlZjQ0NDQnLCAvLyByZWRcblx0fVxuXG5cdHJldHVybiBjb2xvcnNbYWN0aW9uXSB8fCAnIzZiNzI4MCdcbn1cblxuLyoqXG4gKiBGb3JtYXQgZXZlbnQgbGFiZWxcbiAqL1xuZnVuY3Rpb24gZm9ybWF0RXZlbnRMYWJlbChldmVudDogRG9ja2VyRXZlbnQpOiBzdHJpbmcge1xuXHQvLyBUcnkgdG8gZ2V0IGZyaWVuZGx5IG5hbWUgZnJvbSBjb21wb3NlIGxhYmVsc1xuXHRsZXQgbmFtZSA9IGV2ZW50LkFjdG9yLkF0dHJpYnV0ZXMubmFtZSB8fCBldmVudC5BY3Rvci5JRC5zdWJzdHJpbmcoMCwgMTIpXG5cdGxldCBub2RlVHlwZSA9IGV2ZW50LkFjdG9yLkF0dHJpYnV0ZXNbJ3lkYi5ub2RlLnR5cGUnXVxuXHRsZXQgc2VydmljZSA9IGV2ZW50LkFjdG9yLkF0dHJpYnV0ZXNbJ2NvbS5kb2NrZXIuY29tcG9zZS5zZXJ2aWNlJ11cblxuXHQvLyBVc2UgWURCIG5vZGUgdHlwZSBpZiBhdmFpbGFibGUgKGUuZy4sIFwiZGF0YWJhc2VcIiwgXCJzdG9yYWdlXCIpXG5cdGxldCBkaXNwbGF5TmFtZSA9IG5hbWVcblx0aWYgKG5vZGVUeXBlKSB7XG5cdFx0ZGlzcGxheU5hbWUgPSBgJHtub2RlVHlwZX0gKCR7bmFtZX0pYFxuXHR9IGVsc2UgaWYgKHNlcnZpY2UpIHtcblx0XHRkaXNwbGF5TmFtZSA9IHNlcnZpY2Vcblx0fVxuXG5cdGxldCBhY3Rpb24gPSBldmVudC5BY3Rpb25cblxuXHRpZiAoYWN0aW9uID09PSAna2lsbCcgJiYgZXZlbnQuQWN0b3IuQXR0cmlidXRlcy5zaWduYWwpIHtcblx0XHRyZXR1cm4gYCR7YWN0aW9ufSAke2Rpc3BsYXlOYW1lfSAoJHtldmVudC5BY3Rvci5BdHRyaWJ1dGVzLnNpZ25hbH0pYFxuXHR9XG5cblx0cmV0dXJuIGAke2FjdGlvbn0gJHtkaXNwbGF5TmFtZX1gXG59XG5cbi8qKlxuICogRm9ybWF0IGV2ZW50cyBmb3IgdmlzdWFsaXphdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXZlbnRzKGV2ZW50czogRG9ja2VyRXZlbnRbXSk6IEZvcm1hdHRlZEV2ZW50W10ge1xuXHRyZXR1cm4gZXZlbnRzLm1hcCgoZXZlbnQpID0+ICh7XG5cdFx0dGltZXN0YW1wOiBldmVudC50aW1lLFxuXHRcdGFjdGlvbjogZXZlbnQuQWN0aW9uLFxuXHRcdHR5cGU6IGV2ZW50LlR5cGUsXG5cdFx0bGFiZWw6IGZvcm1hdEV2ZW50TGFiZWwoZXZlbnQpLFxuXHRcdGljb246IGdldEV2ZW50SWNvbihldmVudC5BY3Rpb24sIGV2ZW50LkFjdG9yLkF0dHJpYnV0ZXMpLFxuXHRcdGNvbG9yOiBnZXRFdmVudENvbG9yKGV2ZW50LkFjdGlvbiksXG5cdFx0YWN0b3I6IGV2ZW50LkFjdG9yLkF0dHJpYnV0ZXMubmFtZSB8fCBldmVudC5BY3Rvci5JRC5zdWJzdHJpbmcoMCwgMTIpLFxuXHR9KSlcbn1cbiIKICBdLAogICJtYXBwaW5ncyI6ICI7OztBQTRCTyxTQUFTLGdCQUFnQixDQUFDLFNBQWdDO0FBQUEsRUFDaEUsSUFBSSxTQUF3QixDQUFDLEdBQ3pCLFFBQVEsUUFBUSxLQUFLLEVBQUUsTUFBTTtBQUFBLENBQUk7QUFBQSxFQUVyQyxTQUFTLFFBQVEsT0FBTztBQUFBLElBQ3ZCLElBQUksQ0FBQyxLQUFLLEtBQUs7QUFBQSxNQUFHO0FBQUEsSUFFbEIsSUFBSTtBQUFBLE1BQ0gsSUFBSSxRQUFRLEtBQUssTUFBTSxJQUFJO0FBQUEsTUFDM0IsT0FBTyxLQUFLLEtBQUs7QUFBQSxNQUNoQixNQUFNO0FBQUEsTUFFUDtBQUFBO0FBQUE7QUFBQSxFQUlGLE9BQU87QUFBQTtBQU1SLFNBQVMsWUFBWSxDQUFDLFFBQWdCLFlBQTZDO0FBQUEsRUFDbEYsSUFBSSxRQUFnQztBQUFBLElBQ25DLE9BQU87QUFBQSxJQUNQLFNBQVM7QUFBQSxJQUNULE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxJQUNQLFNBQVM7QUFBQSxJQUNULEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLFNBQVM7QUFBQSxFQUNWO0FBQUEsRUFFQSxJQUFJLFdBQVc7QUFBQSxJQUNkLE9BQU8sWUFBWSxXQUFXLFlBQVksaUJBQU07QUFBQSxFQUdqRCxPQUFPLE1BQU0sV0FBVztBQUFBO0FBTXpCLFNBQVMsYUFBYSxDQUFDLFFBQXdCO0FBQUEsRUFhOUMsT0FacUM7QUFBQSxJQUNwQyxPQUFPO0FBQUEsSUFDUCxTQUFTO0FBQUEsSUFDVCxNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxNQUFNO0FBQUEsSUFDTixTQUFTO0FBQUEsSUFDVCxLQUFLO0FBQUEsSUFDTCxRQUFRO0FBQUEsSUFDUixTQUFTO0FBQUEsRUFDVixFQUVjLFdBQVc7QUFBQTtBQU0xQixTQUFTLGdCQUFnQixDQUFDLE9BQTRCO0FBQUEsRUFFckQsSUFBSSxPQUFPLE1BQU0sTUFBTSxXQUFXLFFBQVEsTUFBTSxNQUFNLEdBQUcsVUFBVSxHQUFHLEVBQUUsR0FDcEUsV0FBVyxNQUFNLE1BQU0sV0FBVyxrQkFDbEMsVUFBVSxNQUFNLE1BQU0sV0FBVywrQkFHakMsY0FBYztBQUFBLEVBQ2xCLElBQUk7QUFBQSxJQUNILGNBQWMsR0FBRyxhQUFhO0FBQUEsRUFDeEIsU0FBSTtBQUFBLElBQ1YsY0FBYztBQUFBLEVBR2YsSUFBSSxTQUFTLE1BQU07QUFBQSxFQUVuQixJQUFJLFdBQVcsVUFBVSxNQUFNLE1BQU0sV0FBVztBQUFBLElBQy9DLE9BQU8sR0FBRyxVQUFVLGdCQUFnQixNQUFNLE1BQU0sV0FBVztBQUFBLEVBRzVELE9BQU8sR0FBRyxVQUFVO0FBQUE7QUFNZCxTQUFTLFlBQVksQ0FBQyxRQUF5QztBQUFBLEVBQ3JFLE9BQU8sT0FBTyxJQUFJLENBQUMsV0FBVztBQUFBLElBQzdCLFdBQVcsTUFBTTtBQUFBLElBQ2pCLFFBQVEsTUFBTTtBQUFBLElBQ2QsTUFBTSxNQUFNO0FBQUEsSUFDWixPQUFPLGlCQUFpQixLQUFLO0FBQUEsSUFDN0IsTUFBTSxhQUFhLE1BQU0sUUFBUSxNQUFNLE1BQU0sVUFBVTtBQUFBLElBQ3ZELE9BQU8sY0FBYyxNQUFNLE1BQU07QUFBQSxJQUNqQyxPQUFPLE1BQU0sTUFBTSxXQUFXLFFBQVEsTUFBTSxNQUFNLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFBQSxFQUNyRSxFQUFFO0FBQUE7IiwKICAiZGVidWdJZCI6ICI2QjlCM0FBRjIxMzdGREM1NjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
